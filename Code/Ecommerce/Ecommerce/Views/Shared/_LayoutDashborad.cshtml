@using Microsoft.AspNetCore.Identity
@inject SignInManager<User> SignInManager
@inject UserManager<User> UserManager
@{
    var user = await UserManager.GetUserAsync(User);
    var imgurl = "";
    @if (SignInManager.IsSignedIn(User))
    {

        imgurl = user.img == null ? "defaultimg.png" : user.img;
    }
}


<!DOCTYPE html>
<!--
valid license purchased only from themeforest(the above link) in order to legally use the theme for your project.
-->
<html lang="en">
<!-- BEGIN: Head -->
<!-- Mirrored from midone.left4code.com/ by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 14 May 2020 11:45:08 GMT -->
<!-- Added by HTTrack -->

<head>
    <meta charset="utf-8">
    <meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
    <link href="~/dist/images/logo.svg" rel="shortcut icon">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Midone admin is super flexible, powerful, clean & modern responsive tailwind admin template with unlimited possibilities.">
    <meta name="keywords" content="admin template, Midone admin template, dashboard template, flat admin template, responsive admin template, web app">
    <meta name="author" content="LEFT4CODE">
    <title>Dashboard - ECommerce</title>
    <!-- BEGIN: CSS Assets-->
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-beta.1/dist/css/select2.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="~/dist/css/app.css" />
    <!-- END: CSS Assets-->
</head>
<!-- END: Head -->
<body class="app loading">
    <!-- BEGIN: Mobile Menu -->
    <div class="mobile-menu md:hidden">
        <div class="mobile-menu-bar">
            <a href="#" class="flex mr-auto">
                <img alt="Midone Tailwind HTML Admin Template" class="w-6" src="~/dist/images/logo.svg">
            </a>
            <a href="javascript:;" id="mobile-menu-toggler"> <i data-feather="bar-chart-2" class="w-8 h-8 text-white transform -rotate-90"></i> </a>
        </div>
        <ul class="border-t border-theme-24 py-5 hidden" id="MobileMenu">
            <li>
                <a asp-controller="DashBoard" asp-action="Index" class="menu">
                    <div class="menu__icon"> <i data-feather="home"></i> </div>
                    <div class="menu__title"> Dashboard </div>
                </a>
            </li>
            <li>
                <a href="javascript:;" class="menu">
                    <div class="menu__icon"> <i data-feather="box"></i> </div>
                    <div class="menu__title"> Roles/Admins <i data-feather="chevron-down" class="menu__sub-icon"></i> </div>
                </a>
                <ul class="">
                    <li>
                        <a asp-controller="Role" asp-action="AssignUserToRole" onclick="ajaxRender(event); Toggler()" class="menu">
                            <div class="menu__icon"> <i data-feather="activity"></i> </div>
                            <div class="menu__title">Assign Users To Roles </div>
                        </a>
                    </li>
                    <li>
                        <a asp-controller="Role" asp-action="Create" onclick="ajaxRender(event); Toggler()" class="menu">
                            <div class="menu__icon"> <i data-feather="activity"></i> </div>
                            <div class="menu__title"> Create Role </div>
                        </a>
                    </li>
                    <li>
                        <a asp-controller="Role" asp-action="Index" onclick="ajaxRender(event); Toggler()" class="menu">
                            <div class="menu__icon"> <i data-feather="activity"></i> </div>
                            <div class="menu__title"> All Roles </div>
                        </a>
                    </li>

                    <li>
                        <a asp-controller="Messages" asp-action="Index" onclick="ajaxRender(event); Toggler()" class="menu">
                            <div class="menu__icon"> <i data-feather="activity"></i> </div>
                            <div class="menu__title">  User Messages </div>
                        </a>
                    </li>
                </ul>
            </li>
            <li>
                <a asp-action="Index" asp-controller="Supplier" onclick="ajaxRender(event); Toggler()" class="menu">
                    <div class="menu__icon"> <i data-feather="inbox"></i> </div>
                    <div class="menu__title"> Suppliers </div>
                </a>
            </li>
            <li>
                <a asp-action="Index" asp-controller="Category" onclick="ajaxRender(event); Toggler()" class="menu">
                    <div class="menu__icon"> <i data-feather="hard-drive"></i> </div>
                    <div class="menu__title"> Categories </div>
                </a>
            </li>
            <li>
                <a asp-action="Index" asp-controller="Products" onclick="ajaxRender(event); Toggler()" class="menu">
                    <div class="menu__icon"> <i data-feather="credit-card"></i> </div>
                    <div class="menu__title"> Products </div>
                </a>
            </li>
            <li>
                <a asp-action="Index" asp-controller="Offers" onclick="ajaxRender(event); Toggler()" class="menu">
                    <div class="menu__icon"> <i data-feather="credit-card"></i> </div>
                    <div class="menu__title"> Offers </div>
                </a>
            </li>
        </ul>
    </div>
    <!-- END: Mobile Menu -->
    <div class="flex">
        <!-- BEGIN: Side Menu -->
        <nav class="side-nav">
            <a href="#" class="intro-x flex items-center pl-5 pt-4">
                <img alt="ECommerce" class="w-6" src="~/dist/images/logo.svg">
                <span class="hidden xl:block text-white text-lg ml-3"> E<span class="font-medium">Commerce</span> </span>
            </a>
            <div class="side-nav__devider my-6"></div>
            <ul>
                <li>
                    <a asp-controller="DashBoard" asp-action="Index" class="side-menu">
                        <div class="side-menu__icon"> <i data-feather="home"></i> </div>
                        <div class="side-menu__title"> Dashboard </div>
                    </a>
                </li>
                <li>
                    <a href="javascript:;" class="side-menu">
                        <div class="side-menu__icon"> <i data-feather="box"></i> </div>
                        <div class="side-menu__title"> Roles/Admins <i data-feather="chevron-down" class="side-menu__sub-icon"></i> </div>
                    </a>
                    <ul class="">
                        <li>
                            <a asp-controller="Role" asp-action="AssignUserToRole" onclick="ajaxRender(event)" class="side-menu">
                                <div class="side-menu__icon"> <i data-feather="activity"></i> </div>
                                <div class="side-menu__title">Assign Users To Roles </div>
                            </a>
                        </li>
                        <li>
                            <a asp-controller="Role" asp-action="Create" onclick="ajaxRender(event)" class="side-menu">
                                <div class="side-menu__icon"> <i data-feather="activity"></i> </div>
                                <div class="side-menu__title"> Create Role </div>
                            </a>
                        </li>
                        <li>
                            <a asp-controller="Role" asp-action="Index" onclick="ajaxRender(event)" class="side-menu">
                                <div class="side-menu__icon"> <i data-feather="activity"></i> </div>
                                <div class="side-menu__title"> All Roles </div>
                            </a>
                        </li>

                        <li>
                            <a asp-controller="Messages" asp-action="Index" onclick="ajaxRender(event)" class="side-menu">
                                <div class="side-menu__icon"> <i data-feather="activity"></i> </div>
                                <div class="side-menu__title">  User Messages </div>
                            </a>
                        </li>
                    </ul>
                </li>
                <li>
                    <a asp-action="Index" asp-controller="Supplier" onclick="ajaxRender(event)" class="side-menu">
                        <div class="side-menu__icon"> <i data-feather="inbox"></i> </div>
                        <div class="side-menu__title"> Suppliers </div>
                    </a>
                </li>
                <li>
                    <a asp-action="Index" asp-controller="Category" onclick="ajaxRender(event)" class="side-menu">
                        <div class="side-menu__icon"> <i data-feather="hard-drive"></i> </div>
                        <div class="side-menu__title"> Categories </div>
                    </a>
                </li>
                <li>
                    <a asp-action="Index" asp-controller="Products" onclick="ajaxRender(event)" class="side-menu">
                        <div class="side-menu__icon"> <i data-feather="credit-card"></i> </div>
                        <div class="side-menu__title"> Products </div>
                    </a>
                </li>
                <li>
                    <a asp-action="Index" asp-controller="Offers" onclick="ajaxRender(event)" class="side-menu">
                        <div class="side-menu__icon"> <i data-feather="credit-card"></i> </div>
                        <div class="side-menu__title"> Offers </div>
                    </a>
                </li>

            </ul>
        </nav>
        <!-- END: Side Menu -->
        <!-- BEGIN: Content -->
        <div class="content">
            <!-- BEGIN: Top Bar -->
            <div class="top-bar">
                <!-- BEGIN: Breadcrumb -->
                <div id="BreadCrumb" class="-intro-x breadcrumb mr-auto hidden sm:flex"> <a href="#" class="">Application</a>  </div>
                <!-- END: Breadcrumb -->
                <!-- BEGIN: Search -->
                <div class="intro-x relative mr-3 sm:mr-6">
                    <div class="search hidden sm:block">
                        <input type="text" class="search__input input placeholder-theme-13" placeholder="Search...">
                        <i data-feather="search" class="search__icon"></i>
                    </div>
                    <a class="notification sm:hidden" href="#"> <i data-feather="search" class="notification__icon"></i> </a>
                    <div class="search-result">
                        <div class="search-result__content">
                            <div class="search-result__content__title">Pages</div>
                            <div class="mb-5">
                                <a href="#" class="flex items-center">
                                    <div class="w-8 h-8 bg-theme-18 text-theme-9 flex items-center justify-center rounded-full"> <i class="w-4 h-4" data-feather="inbox"></i> </div>
                                    <div class="ml-3">Mail Settings</div>
                                </a>
                                <a href="#" class="flex items-center mt-2">
                                    <div class="w-8 h-8 bg-theme-17 text-theme-11 flex items-center justify-center rounded-full"> <i class="w-4 h-4" data-feather="users"></i> </div>
                                    <div class="ml-3">Users & Permissions</div>
                                </a>
                                <a href="#" class="flex items-center mt-2">
                                    <div class="w-8 h-8 bg-theme-14 text-theme-10 flex items-center justify-center rounded-full"> <i class="w-4 h-4" data-feather="credit-card"></i> </div>
                                    <div class="ml-3">Transactions Report</div>
                                </a>
                            </div>
                            <div class="search-result__content__title">Users</div>
                            <div class="mb-5">
                                <a href="#" class="flex items-center mt-2">
                                    <div class="w-8 h-8 image-fit">
                                        <img alt="Midone Tailwind HTML Admin Template" class="rounded-full" src="~/dist/images/profile-12.jpg">
                                    </div>
                                    <div class="ml-3">Al Pacino</div>
                                    <div class="ml-auto w-48 truncate text-gray-600 text-xs text-right">alpacino@left4code.com</div>
                                </a>
                                <a href="#" class="flex items-center mt-2">
                                    <div class="w-8 h-8 image-fit">
                                        <img alt="Midone Tailwind HTML Admin Template" class="rounded-full" src="~/dist/images/profile-8.jpg">
                                    </div>
                                    <div class="ml-3">Johnny Depp</div>
                                    <div class="ml-auto w-48 truncate text-gray-600 text-xs text-right">johnnydepp@left4code.com</div>
                                </a>
                                <a href="#" class="flex items-center mt-2">
                                    <div class="w-8 h-8 image-fit">
                                        <img alt="Midone Tailwind HTML Admin Template" class="rounded-full" src="~/dist/images/profile-2.jpg">
                                    </div>
                                    <div class="ml-3">John Travolta</div>
                                    <div class="ml-auto w-48 truncate text-gray-600 text-xs text-right">johntravolta@left4code.com</div>
                                </a>
                                <a href="#" class="flex items-center mt-2">
                                    <div class="w-8 h-8 image-fit">
                                        <img alt="Midone Tailwind HTML Admin Template" class="rounded-full" src="~/dist/images/profile-12.jpg">
                                    </div>
                                    <div class="ml-3">John Travolta</div>
                                    <div class="ml-auto w-48 truncate text-gray-600 text-xs text-right">johntravolta@left4code.com</div>
                                </a>
                            </div>
                            <div class="search-result__content__title">Products</div>
                            <a href="#" class="flex items-center mt-2">
                                <div class="w-8 h-8 image-fit">
                                    <img alt="Midone Tailwind HTML Admin Template" class="rounded-full" src="~/dist/images/preview-2.jpg">
                                </div>
                                <div class="ml-3">Samsung Galaxy S20 Ultra</div>
                                <div class="ml-auto w-48 truncate text-gray-600 text-xs text-right">Smartphone &amp; Tablet</div>
                            </a>
                            <a href="#" class="flex items-center mt-2">
                                <div class="w-8 h-8 image-fit">
                                    <img alt="Midone Tailwind HTML Admin Template" class="rounded-full" src="~/dist/images/preview-12.jpg">
                                </div>
                                <div class="ml-3">Samsung Galaxy S20 Ultra</div>
                                <div class="ml-auto w-48 truncate text-gray-600 text-xs text-right">Smartphone &amp; Tablet</div>
                            </a>
                            <a href="#" class="flex items-center mt-2">
                                <div class="w-8 h-8 image-fit">
                                    <img alt="Midone Tailwind HTML Admin Template" class="rounded-full" src="~/dist/images/preview-7.jpg">
                                </div>
                                <div class="ml-3">Sony Master Series A9G</div>
                                <div class="ml-auto w-48 truncate text-gray-600 text-xs text-right">Electronic</div>
                            </a>
                            <a href="#" class="flex items-center mt-2">
                                <div class="w-8 h-8 image-fit">
                                    <img alt="Midone Tailwind HTML Admin Template" class="rounded-full" src="~/dist/images/preview-9.jpg">
                                </div>
                                <div class="ml-3">Nike Tanjun</div>
                                <div class="ml-auto w-48 truncate text-gray-600 text-xs text-right">Sport &amp; Outdoor</div>
                            </a>
                        </div>
                    </div>
                </div>
                <!-- END: Search -->
                <!-- BEGIN: Notifications -->
                <div class="intro-x dropdown relative mr-auto sm:mr-6">
                    <div class="dropdown-toggle notification notification--bullet cursor-pointer"> <i data-feather="bell" class="notification__icon"></i> </div>
                    <div class="notification-content dropdown-box mt-8 absolute top-0 left-0 sm:left-auto sm:right-0 z-20 -ml-10 sm:ml-0">
                        <div class="notification-content__box dropdown-box__content box">
                            <div class="notification-content__title">Notifications</div>
                            <div class="cursor-pointer relative flex items-center ">
                                <div class="w-12 h-12 flex-none image-fit mr-1">
                                    <img alt="Midone Tailwind HTML Admin Template" class="rounded-full" src="~/dist/images/profile-12.jpg">
                                    <div class="w-3 h-3 bg-theme-9 absolute right-0 bottom-0 rounded-full border-2 border-white"></div>
                                </div>
                                <div class="ml-2 overflow-hidden">
                                    <div class="flex items-center">
                                        <a href="javascript:;" class="font-medium truncate mr-5">Al Pacino</a>
                                        <div class="text-xs text-gray-500 ml-auto whitespace-no-wrap">05:09 AM</div>
                                    </div>
                                    <div class="w-full truncate text-gray-600">Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry&#039;s standard dummy text ever since the 1500</div>
                                </div>
                            </div>
                            <div class="cursor-pointer relative flex items-center mt-5">
                                <div class="w-12 h-12 flex-none image-fit mr-1">
                                    <img alt="Midone Tailwind HTML Admin Template" class="rounded-full" src="~/dist/images/profile-8.jpg">
                                    <div class="w-3 h-3 bg-theme-9 absolute right-0 bottom-0 rounded-full border-2 border-white"></div>
                                </div>
                                <div class="ml-2 overflow-hidden">
                                    <div class="flex items-center">
                                        <a href="javascript:;" class="font-medium truncate mr-5">Johnny Depp</a>
                                        <div class="text-xs text-gray-500 ml-auto whitespace-no-wrap">01:10 PM</div>
                                    </div>
                                    <div class="w-full truncate text-gray-600">Contrary to popular belief, Lorem Ipsum is not simply random text. It has roots in a piece of classical Latin literature from 45 BC, making it over 20</div>
                                </div>
                            </div>
                            <div class="cursor-pointer relative flex items-center mt-5">
                                <div class="w-12 h-12 flex-none image-fit mr-1">
                                    <img alt="Midone Tailwind HTML Admin Template" class="rounded-full" src="~/dist/images/profile-2.jpg">
                                    <div class="w-3 h-3 bg-theme-9 absolute right-0 bottom-0 rounded-full border-2 border-white"></div>
                                </div>
                                <div class="ml-2 overflow-hidden">
                                    <div class="flex items-center">
                                        <a href="javascript:;" class="font-medium truncate mr-5">John Travolta</a>
                                        <div class="text-xs text-gray-500 ml-auto whitespace-no-wrap">06:05 AM</div>
                                    </div>
                                    <div class="w-full truncate text-gray-600">Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry&#039;s standard dummy text ever since the 1500</div>
                                </div>
                            </div>
                            <div class="cursor-pointer relative flex items-center mt-5">
                                <div class="w-12 h-12 flex-none image-fit mr-1">
                                    <img alt="Midone Tailwind HTML Admin Template" class="rounded-full" src="~/dist/images/profile-12.jpg">
                                    <div class="w-3 h-3 bg-theme-9 absolute right-0 bottom-0 rounded-full border-2 border-white"></div>
                                </div>
                                <div class="ml-2 overflow-hidden">
                                    <div class="flex items-center">
                                        <a href="javascript:;" class="font-medium truncate mr-5">John Travolta</a>
                                        <div class="text-xs text-gray-500 ml-auto whitespace-no-wrap">05:09 AM</div>
                                    </div>
                                    <div class="w-full truncate text-gray-600">Contrary to popular belief, Lorem Ipsum is not simply random text. It has roots in a piece of classical Latin literature from 45 BC, making it over 20</div>
                                </div>
                            </div>
                            <div class="cursor-pointer relative flex items-center mt-5">
                                <div class="w-12 h-12 flex-none image-fit mr-1">
                                    <img alt="Midone Tailwind HTML Admin Template" class="rounded-full" src="~/dist/images/profile-6.jpg">
                                    <div class="w-3 h-3 bg-theme-9 absolute right-0 bottom-0 rounded-full border-2 border-white"></div>
                                </div>
                                <div class="ml-2 overflow-hidden">
                                    <div class="flex items-center">
                                        <a href="javascript:;" class="font-medium truncate mr-5">Denzel Washington</a>
                                        <div class="text-xs text-gray-500 ml-auto whitespace-no-wrap">06:05 AM</div>
                                    </div>
                                    <div class="w-full truncate text-gray-600">Contrary to popular belief, Lorem Ipsum is not simply random text. It has roots in a piece of classical Latin literature from 45 BC, making it over 20</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- END: Notifications -->
                <!-- BEGIN: Account Menu -->
                @if (SignInManager.IsSignedIn(User))
                {
                    <div class="intro-x dropdown w-8 h-8 relative">
                        <div class="dropdown-toggle w-8 h-8 rounded-full overflow-hidden shadow-lg image-fit zoom-in">
                            <img alt="Midone Tailwind HTML Admin Template" src="~/img/@imgurl">
                        </div>
                        <div class="dropdown-box mt-10 absolute w-56 top-0 right-0 z-20">
                            <div class="dropdown-box__content box bg-theme-38 text-white">
                                <div class="p-4 border-b border-theme-40">
                                    <div class="font-medium">@user.Name</div>
                                    <div class="text-xs text-theme-41">@user.Email</div>
                                </div>
                                <div class="p-2">
                                    <a href="/Identity/Account/Manage/Index" class="flex items-center block p-2 transition duration-300 ease-in-out hover:bg-theme-1 rounded-md"> <i data-feather="user" class="w-4 h-4 mr-2"></i> Profile </a>
                                    <a href="/Identity/Account/Register" class="flex items-center block p-2 transition duration-300 ease-in-out hover:bg-theme-1 rounded-md"> <i data-feather="edit" class="w-4 h-4 mr-2"></i> Add Account </a>
                                    <a href="/Identity/Account/Manage/ChangePassword" class="flex items-center block p-2 transition duration-300 ease-in-out hover:bg-theme-1 rounded-md"> <i data-feather="lock" class="w-4 h-4 mr-2"></i> Reset Password </a>

                                </div>
                                <div class="p-2 border-t border-theme-40">
                                    @* <a href="#" class="flex items-center block p-2 transition duration-300 ease-in-out hover:bg-theme-1 rounded-md"> <i data-feather="toggle-right" class="w-4 h-4 mr-2"></i> Logout </a>*@

                                    <form class="" asp-area="Identity" asp-page="/Account/Logout" asp-route-returnUrl="@Url.Action("Index", "Home", new { area = "" })">
                                        <button type="submit" class="flex items-center block p-2 transition duration-300 ease-in-out hover:bg-theme-1 rounded-md">Logout</button>
                                    </form>

                                </div>
                            </div>
                        </div>
                    </div>

                }
                else
                {
                    <div class="intro-x dropdown w-8 h-8 relative">
                        <div class="dropdown-toggle w-8 h-8 rounded-full overflow-hidden shadow-lg image-fit zoom-in">
                            <img alt="Midone Tailwind HTML Admin Template" src="~/img/defaultimg.png">
                        </div>
                        <div class="dropdown-box mt-10 absolute w-56 top-0 right-0 z-20">
                            <div class="dropdown-box__content box bg-theme-38 text-white">
                                <div class="p-4 border-b border-theme-40">
                                    <div class="font-medium">*****</div>
                                    <div class="text-xs text-theme-41">***@@***.***</div>
                                </div>
                                @*<div class="p-2">
                                        <a href="#" class="flex items-center block p-2 transition duration-300 ease-in-out hover:bg-theme-1 rounded-md"> <i data-feather="user" class="w-4 h-4 mr-2"></i> Profile </a>
                                        <a href="#" class="flex items-center block p-2 transition duration-300 ease-in-out hover:bg-theme-1 rounded-md"> <i data-feather="edit" class="w-4 h-4 mr-2"></i> Add Account </a>
                                        <a href="#" class="flex items-center block p-2 transition duration-300 ease-in-out hover:bg-theme-1 rounded-md"> <i data-feather="lock" class="w-4 h-4 mr-2"></i> Reset Password </a>
                                        <a href="#" class="flex items-center block p-2 transition duration-300 ease-in-out hover:bg-theme-1 rounded-md"> <i data-feather="help-circle" class="w-4 h-4 mr-2"></i> Help </a>
                                    </div>
                                    <div class="p-2 border-t border-theme-40">
                                        <a href="#" class="flex items-center block p-2 transition duration-300 ease-in-out hover:bg-theme-1 rounded-md"> <i data-feather="toggle-right" class="w-4 h-4 mr-2"></i> Logout </a>
                                    </div>*@
                            </div>
                        </div>
                    </div>

                }

                <!-- END: Account Menu -->
            </div>
            <!-- END: Top Bar -->
            <div @*class="grid grid-cols-12 gap-6"*@>
                <div id="Container" class="container-shopfull">
                    @RenderBody()

                </div>
            </div>
        </div>
        <!-- END: Content -->
    </div>
    <!-- BEGIN: JS Assets-->
    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/lib/jquery-validation/dist/jquery.validate.min.js"></script>
    <script src="~/lib/jquery-validation-unobtrusive/dist/jquery.validate.unobtrusive.js"></script>
    <script src="~/lib/jquery-ajax-unobtrusive/jquery.unobtrusive-ajax.min.js"></script>
    <script src="~/dist/js/markerclusterer.js"></script>
    <script src="~/dist/js/js.JS"></script>
    <script src="~/dist/js/app.js"></script>
    <script src="~/feather-icons/feather.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-beta.1/dist/js/select2.min.js"></script>
    <script type='text/javascript'>
        /* attach a submit handler to the form */
        function formsHelper(formId) {
            try {
                $("#" + formId).submit(function (event) {
                    //debugger;
                    const formData = new FormData(this);
                    event.preventDefault(); //prevent default action
                    var post_url = $(this).attr("action"); //get form action url
                    var request_method = $(this).attr("method"); //get form GET/POST method
                    //console.log(formData);
                    $.ajax({
                        url: post_url,
                        type: request_method,
                        data: formData,
                        processData: false,
                        contentType: false,
                    }).done(function (response) { //
                        $("#Container").html(response);
                        forms = $("form").toArray();
                        for (var f of forms) {
                            if (f.getAttribute('id') != "") {
                                formsHelper(f.getAttribute('id'));

                            }
                        }
                    }).fail(function (error)
                    {
                        console.log(error);
                        forms = $("form").toArray();
                        for (var f of forms) {
                            if (f.getAttribute('id') != "") {
                                formsHelper(f.getAttribute('id'));

                            }
                        }
                    });
                });
                load_js();
            } catch (e) {
                console.log(e);
            }

        }

    </script>
    <script>
        function selectfile(e) {
            //console.log(e)
            $("[name='ProductImgUrl']")[0].value = "123";
        }


    </script>
    <script>
        function removeImg(input) {
            $("#imgViewer").hide();
            $('#previewHolder').attr('src', "");
            $("[name='ProductImgUrl']")[0].value = "";
            //$("#" + input).attr("value", "");
        }
        function readURL(input) {
            if (input.files && input.files[0]) {
                var reader = new FileReader();
                reader.onload = function (e) {
                    $("#imgViewer").show();
                    $('#previewHolder').attr('src', e.target.result);
                }

                reader.readAsDataURL(input.files[0]);
            }
        }
        function ajaxRender(e, id = "Container", action = "replace") {
            try {
                e.preventDefault();
                let anchor = e.target;
                while (anchor.href == null) {
                    anchor = anchor.parentNode
                }
                //console.log('eeee', anchor.href);
                //debugger;
                let method = anchor.href.toLowerCase().includes('delete') ? "post" : "get";
                if (method == "post") {
                    $.ajax({
                        url: anchor.href,
                        type: "post",
                        data: "",
                    }).done(function (response) { //
                        $("#"+id).html(response);
                        dowork(anchor);
                    });
                }
                else {
                    $.ajax(anchor.href,   // request url
                        {
                            success: function (data, status, xhr) {// success callback function
                                //console.log(status);
                                if (action == "replace") {
                                    //console.log($("#"id));
                                    $("#" + id)[0].innerHTML = data;
                                }
                                else if (action == "append") {
                                    $(id).append(data);

                                }
                                sideMenuActive(anchor.href);
                                forms = $("form").toArray();
                                for (var f of forms) {
                                    if (f.getAttribute('id') != "") {
                                        formsHelper(f.getAttribute('id'));

                                    }
                                }

                                dowork(anchor);

                            },
                            error: function (err) {
                                console.log(err)
                            }

                        });
                }

                return false;
            } catch (e) {

            }
            return false;
        }
        function sideMenuActive(active = null) {
            var links = $(".side-menu").toArray();
            var url = active || document.URL;
            links.forEach(element => {
                if (url.toLowerCase().includes(element.href.toLowerCase())) {
                    if (!element.classList.contains("side-menu--active")) { element.classList.add("side-menu--active"); }
                } else {
                    if (element.classList.contains("side-menu--active")) { element.classList.remove("side-menu--active"); }
                }
            });
        }
        sideMenuActive();
        function load_js() {
            var head = document.getElementsByTagName('head')[0];
            var script = document.createElement('script');
            script.src = '~/lib/jquery-validation/dist/jquery.validate.min.js';
            head.appendChild(script);
            //--------------
            var script2 = document.createElement('script');
            script2.src = '~/lib/jquery-validation-unobtrusive/dist/jquery.validate.unobtrusive.js';
            head.appendChild(script2);
            //----------------
            var script3 = document.createElement('script');
            script3.src = '~/lib/jquery-ajax-unobtrusive/jquery.unobtrusive-ajax.min.js';
            head.appendChild(script3);
        }

        function dowork(anchor) {
            //////////////// dealing with imges
            $("#filePhoto").change(function () {
                //console.log(this);
                readURL(this);
            });
            //debugger;
            // getting paths then generate Breadcrumb
            //<i data-feather="chevron-right" class="breadcrumb__icon"></i> <a href="#" class="breadcrumb--active">Dashboard</a>
            let arr = anchor.href.split('//');
            let protocol = arr[0];
            let arr2 = arr[1].split('/');
            let host = arr2[0];

            let bc = $("#BreadCrumb")[0];
            bc.innerHTML = '<a href="#" class="">Application</a>';
            for (var i = 1; i < arr2.length; i++) {
                bc.innerHTML = bc.innerHTML + '<i data-feather="chevron-right" class="breadcrumb__icon"> <polyline points="9 18 15 12 9 6"></polyline><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right breadcrumb__icon"><polyline points="9 18 15 12 9 6"></polyline></svg> </i>';
                host = host + '/' + arr2[i];
                bc.innerHTML = bc.innerHTML + '<a onclick="ajaxRender(event)" href="' + protocol + '//' + host + '" class="breadcrumb--active">' + arr2[i] + '</a>';
            }
            feather.replace();
            $(".select2").select2();
            
        }
        function searchProducts(e) {
            $.ajax("/Products/Index?page=1&s=" + e,   // request url
                {
                    success: function (data, status, xhr) {// success callback function
                        //console.log(status);
                        $("#Container")[0].innerHTML = data;
                        sideMenuActive("Products");
                        let anchor = $("[href=\"/ Products\"]");
                        dowork(anchor);

                    },
                    error: function (err) {
                        console.log(err)
                    }

                });
        }
        function Toggler() {
            $("#MobileMenu").toggle();
        }
    </script>

    @RenderSection("scripts", false)
    <script src="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/2.1.0/sweetalert.min.js"></script>
    <script>
        var Save = function () {
            debugger
            var SelectUser = $("#SelectUser").val();
            var SelectRole = $("#SelectRole").val();

            $.ajax({
                url: "/Role/AssignUserToRole",
                type: "POST",
                data: {
                    Id: SelectUser,
                    Name: SelectRole
                },
                dataType: "json",

                success: function (data) {
                    if (data.status == 1)
                        swal("Done", "Success", "success");
                }

            });
        }

        var Create = function () {
            debugger
            var Name = $("#Name").val();


            $.ajax({
                url: "/Role/Create",
                type: "POST",
                data: {
                    firstName: Name,

                },
                dataType: "json",

                success: function (data) { //data = new {status = 1 }
                    if (data.status == 1) {
                        $("#Name").val("");
                        swal("Done", "Success", "success");
                        // window.location("/home/index")
                    }
                    else {
                        swal("Failed", "Wrong", "warning");
                    }
                }

            });
        }

        var Edit = function (id) {
            debugger
            var Name = $("#Name").val();
            var idd = id;

            $.ajax({
                url: "/Role/Edit",
                type: "POST",
                data: {
                    firstName: Name,
                    Id: idd

                },
                dataType: "json",

                success: function (data) { //data = new {status = 1 }
                    if (data.status == 1) {
                        $("#Name").val("");
                        swal("Done", "Success", "success");
                        // window.location("/home/index")
                    }
                    else {
                        swal("Failed", "Wrong", "warning");
                    }
                }

            });
        }


        var Delete = function (id) {
            debugger
            var con = confirm("Are u sure ?")
            if (con) {
                var idd = id;

                $.ajax({
                    url: "/Role/Delete",
                    type: "POST",
                    data: {

                        Id: idd

                    },
                    dataType: "json",

                    success: function (data) { //data = new {status = 1 }
                        if (data.status == 1) {
                            $("#Name").val("");
                            debugger
                            $("#tr_" + idd).remove();
                            swal("Done", "Success", "success");
                            // window.location("/home/index")

                        }
                        else {
                            swal("Failed", "Wrong", "warning");
                        }
                    }

                });
            }

        }
    </script>
    <!-- END: JS Assets-->
</body>

<!-- Mirrored from midone.left4code.com/ by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 14 May 2020 11:45:31 GMT -->
</html>
